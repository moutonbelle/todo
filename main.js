(()=>{"use strict";var t={56:(t,e,a)=>{t.exports=function(t){var e=a.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function a(t){for(var a=-1,o=0;o<e.length;o++)if(e[o].identifier===t){a=o;break}return a}function o(t,o){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],c=o.base?s[0]+o.base:s[0],l=n[c]||0,p="".concat(c," ").concat(l);n[c]=l+1;var u=a(p),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==u)e[u].references++,e[u].updater(m);else{var h=d(m,o);o.byIndex=i,e.splice(i,0,{identifier:p,updater:h,references:1})}r.push(p)}return r}function d(t,e){var a=e.domAPI(e);return a.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;a.update(t=e)}else a.remove()}}t.exports=function(t,d){var n=o(t=t||[],d=d||{});return function(t){t=t||[];for(var r=0;r<n.length;r++){var i=a(n[r]);e[i].references--}for(var s=o(t,d),c=0;c<n.length;c++){var l=a(n[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}n=s}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a="",o=void 0!==e[5];return e[4]&&(a+="@supports (".concat(e[4],") {")),e[2]&&(a+="@media ".concat(e[2]," {")),o&&(a+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),a+=t(e),o&&(a+="}"),e[2]&&(a+="}"),e[4]&&(a+="}"),a}).join("")},e.i=function(t,a,o,d,n){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(o)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);o&&r[l[0]]||(void 0!==n&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=n),a&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=a):l[2]=a),d&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=d):l[4]="".concat(d)),e.push(l))}},e}},365:(t,e,a)=>{a.d(e,{A:()=>i});var o=a(601),d=a.n(o),n=a(314),r=a.n(n)()(d());r.push([t.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Iowan Old Style', 'Palatino Linotype', 'URW Palladio L', P052, serif;\n}\n\nbody {\n    padding: 20px;\n}\n\ninput {\n        padding: 0.2rem 0.5rem;\n        border-radius: 5px;\n        border: 1px solid black;\n}\n\ntextarea {\n    display: block;\n    width: 100%;\n    padding: 0.2rem;\n}\n\ndiv#projects {\n    display: flex;\n    gap: 20px;\n    align-items: flex-start;\n\n    margin-top: 1rem;\n}\n\ndiv.project {\n    flex: 0 0 350px;\n    background-color: palegreen;\n    padding: 20px;\n\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    position: relative;\n}\n\ndiv.todo {\n    position: relative;\n    background-color: lightblue;\n    padding: 20px;\n\n    & p {\n        margin-top: 0.5rem;\n    }\n\n    & p:first-of-type {\n        margin-top: 1.5rem;\n    }\n}\n\ndiv.icons {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n\n    display: flex;\n    gap: 5px;\n}\n\ndiv.new-project-container {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    align-items: flex-start;\n\n    flex: 0 0 350px;\n    background-color: palegreen;\n    padding: 20px;\n\n    & button {\n        padding: 0.2rem 1rem;\n        border-radius: 5px;\n        bordeR: 1px solid black;\n    }\n}",""]);const i=r},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,a){var o=function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}e[t]=a}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(a)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(a){!function(t,e,a){var o="";a.supports&&(o+="@supports (".concat(a.supports,") {")),a.media&&(o+="@media ".concat(a.media," {"));var d=void 0!==a.layer;d&&(o+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),o+=a.css,d&&(o+="}"),a.media&&(o+="}"),a.supports&&(o+="}");var n=a.sourceMap;n&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,a)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function a(o){var d=e[o];if(void 0!==d)return d.exports;var n=e[o]={id:o,exports:{}};return t[o](n,n.exports,a),n.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");if(o.length)for(var d=o.length-1;d>-1&&(!t||!/^http(s?):/.test(t));)t=o[d--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t})(),a.nc=void 0;var o=a(72),d=a.n(o),n=a(825),r=a.n(n),i=a(659),s=a.n(i),c=a(56),l=a.n(c),p=a(540),u=a.n(p),m=a(113),h=a.n(m),g=a(365),f={};f.styleTagTransform=h(),f.setAttributes=l(),f.insert=s().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=u(),d()(g.A,f),g.A&&g.A.locals&&g.A.locals;const v=a.p+"2b12742fde7b0da97bfb.svg",y=a.p+"376f4b742c31521207bd.svg",D=a.p+"6480e33429f5d8dbaa1f.svg",x=a.p+"e5039088920112b18767.svg",I=a.p+"4c6cf15f1ea6dc7c7487.svg",j=a.p+"09adbc2cf0f6d91eac23.svg",b=a.p+"c0a40bc87fcbc46d9cba.svg";class E{constructor(t){if(t.id?this.id=t.id:this.id=crypto.randomUUID(),this.title=t.title||null,this.description=t.description||null,t.dueDate)this.dueDate=t.dueDate;else{const t=new Date,e=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;this.dueDate=e}this.priority=t.priority||null}update(t){this.title=t.title||this.title,this.description=t.description||this.description,this.dueDate=t.dueDate||this.dueDate,this.priority=t.priority||this.priority}get details(){return{id:this.id,title:this.title,description:this.description,dueDate:this.dueDate,priority:this.priority}}get formattedDetails(){return{Title:this.title,"Due Date":this.dueDate,Description:this.description,Priority:this.priority}}}class S{constructor(t,e=null){this.id=e||crypto.randomUUID(),this.name=t,this.todos=[]}getTodoByID(t){return this.todos.find(e=>e.id===t)}addTodo(t){this.todos.unshift(t)}removeTodoByID(t){this.todos.splice(this.todos.findIndex(e=>e.id===t),1)}get data(){let t={id:this.id,name:this.name,todos:[]};return this.todos.forEach(e=>{t.todos.push(e.details)}),console.log("DATA",t),t}}class T{constructor(){this.projects=[]}getProjectByID(t){return this.projects.find(e=>e.id===t)}addProject(t,e=null){let a=new S(t,e);this.projects.push(a)}removeProject(t){console.log(this.projects.findIndex(e=>e.id===t)),this.projects.splice(this.projects.findIndex(e=>e.id===t),1)}addTodo(t,e){let a=new E(e);return this.getProjectByID(t).addTodo(a),a.id}removeTodo(t,e){this.getProjectByID(t).removeTodoByID(e)}updateTodo(t,e,a){this.getProjectByID(t).getTodoByID(e).update(a)}moveTodo(t,e,a){this.getProjectByID(e).addTodo(this.getProjectByID(t).getTodoByID(a)),this.getProjectByID(t).removeTodoByID(a)}}class w{clear(t){t.replaceChildren()}drawExpandedTodo(t,e){let a=document.querySelector(`div[data-id="${e.id}"`);a.replaceChildren();let o=document.createElement("div");o.classList.add("icons");let d=document.createElement("img");d.dataset.todoID=e.id,d.dataset.projectID=t.id,d.classList.add("delete-todo"),d.src=v;let n=document.createElement("img");n.dataset.todoID=e.id,n.dataset.projectID=t.id,n.classList.add("collapse-todo"),n.id="expandCollapse",n.src=y;let r=document.createElement("img");r.dataset.todoID=e.id,r.dataset.projectID=t.id,r.classList.add("edit-todo"),r.src=x,o.append(r,n,d),a.append(o);for(let t in e.formattedDetails){let o=document.createElement("p"),d=document.createElement("strong");d.textContent=t+": ",o.append(d,e.formattedDetails[t]),a.append(o)}}drawCollapsedTodo(t,e){let a=document.querySelector(`div[data-id="${e.id}"`);a.replaceChildren();let o=document.createElement("div");o.classList.add("icons");let d=document.createElement("img");d.dataset.todoID=e.id,d.dataset.projectID=t.id,d.classList.add("delete-todo"),d.src=v;let n=document.createElement("img");n.dataset.todoID=e.id,n.dataset.projectID=t.id,n.classList.add("expand-todo"),n.id="expandCollapse",n.src=D;let r=document.createElement("img");r.dataset.todoID=e.id,r.dataset.projectID=t.id,r.classList.add("edit-todo"),r.src=x,o.append(r,n,d),a.append(o);let i=document.createElement("p"),s=document.createElement("strong");s.innerHTML="Title: ",i.append(s,e.title);let c=document.createElement("p"),l=document.createElement("strong");l.innerHTML="Due Date: ",c.append(l,e.dueDate),a.append(i,c)}drawEditingTodo(t,e){let a=document.querySelector(`div[data-id="${e.id}"`);a.replaceChildren();let o=document.createElement("div");o.classList.add("icons");let d=document.createElement("img");d.dataset.todoID=e.id,d.dataset.projectID=t.id,d.classList.add("cancel-todo-edit"),d.src=j;let n=document.createElement("img");n.dataset.todoID=e.id,n.dataset.projectID=t.id,n.classList.add("save-todo"),n.src=I,o.append(n,d),a.append(o);let r=document.createElement("p"),i=document.createElement("strong");i.textContent="Title: ";let s=document.createElement("input");s.dataset.todoID=e.id,s.dataset.projectID=t.id,s.classList.add("input-title"),s.value=e.title,r.append(i,s),a.append(r),r=document.createElement("p"),i=document.createElement("strong"),i.textContent="Due Date: ",s=document.createElement("input"),s.type="date",s.dataset.todoID=e.id,s.dataset.projectID=t.id,s.classList.add("input-date");let c=new Date(e.dueDate);s.value=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}-${String(c.getDate()).padStart(2,"0")}`,r.append(i,s),a.append(r),r=document.createElement("p"),i=document.createElement("strong"),i.textContent="Description: ",s=document.createElement("textarea"),s.dataset.todoID=e.id,s.dataset.projectID=t.id,s.rows=5,s.classList.add("input-description"),s.value=e.description,r.append(i,s),a.append(r),r=document.createElement("p"),i=document.createElement("strong"),i.textContent="Priority: ",s=document.createElement("select"),s.dataset.todoID=e.id,s.dataset.projectID=t.id,s.classList.add("input-priority"),["High","Medium","Low"].forEach(t=>{let a=document.createElement("option");a.value=t,a.textContent=t,t===e.priority&&(a.selected=!0),s.append(a)}),r.append(i,s),a.append(r)}draw(t,e,a){this.clear(t),e.projects.forEach(e=>{let o=document.createElement("div");o.classList.add("project"),o.dataset.id=e.id;let d=document.createElement("div");d.classList.add("icons");let n=document.createElement("img");n.dataset.projectID=e.id,n.classList.add("delete-project"),n.src=v;let r=document.createElement("img");r.dataset.projectID=e.id,r.classList.add("add-todo"),r.src=b,d.append(r,n),o.append(d);let i=document.createElement("h2");i.classList.add("project-name"),i.textContent=e.name,o.append(i),t.append(o),e.todos.forEach(t=>{let d=document.createElement("div");switch(d.classList.add("todo"),d.dataset.id=t.id,o.append(d),a.todoState[t.id]){case"expanded":this.drawExpandedTodo(e,t);break;case"collapsed":this.drawCollapsedTodo(e,t);break;case"editing":this.drawEditingTodo(e,t)}})});let o=document.createElement("div");o.classList.add("new-project-container");let d=document.createElement("input");d.classList.add("input-project-name"),d.placeholder="New project name";let n=document.createElement("button");n.classList.add("new-project-button"),n.textContent="Create Project",o.append(d,n),t.append(o)}}new class{constructor(t){this.system=new T,this.renderer=new w,this.target=t,this.uiState={},this.uiState.todoState={},localStorage.systemData&&this.load(),this.draw(),t.addEventListener("click",this.clickHandler)}addProject(t,e=null){this.system.addProject(t,e)}removeProject(t){this.system.removeProject(t)}addTodo(t,e){let a=this.system.addTodo(t,e);this.uiState.todoState[a]="collapsed"}removeTodo(t,e){this.system.removeTodo(t,e)}updateTodo(t,e,a){this.system.updateTodo(t,e,a)}moveTodo(t,e,a){this.system.moveTodo(t,e,a)}expandTodo(t,e){this.renderer.drawExpandedTodo(t,e),this.uiState.todoState[e.id]="expanded"}collapseTodo(t,e){this.renderer.drawCollapsedTodo(t,e),this.uiState.todoState[e.id]="collapsed"}draw(){this.renderer.draw(this.target,this.system,this.uiState)}save(){localStorage.clear();let t={},e=0;this.system.projects.forEach(a=>{t[e]=a.data,e++}),localStorage.systemData=JSON.stringify(t)}load(){this.system.projects=[];let t=JSON.parse(localStorage.systemData);for(let e in t)this.addProject(t[e].name,t[e].id),t[e].todos.forEach(a=>{this.addTodo(t[e].id,a)});this.draw()}clickHandler=t=>{if(t.target.classList.contains("delete-todo")&&(this.removeTodo(t.target.dataset.projectID,t.target.dataset.todoID),this.draw(),this.save()),t.target.classList.contains("expand-todo")&&(this.uiState.todoState[t.target.dataset.todoID]="expanded",this.draw()),t.target.classList.contains("collapse-todo")&&(this.uiState.todoState[t.target.dataset.todoID]="collapsed",this.draw()),t.target.classList.contains("edit-todo")&&(this.uiState.todoState[t.target.dataset.todoID]="editing",this.draw()),t.target.classList.contains("save-todo")){let e={title:document.querySelector(".input-title").value,dueDate:document.querySelector(".input-date").value,description:document.querySelector(".input-description").value,priority:document.querySelector(".input-priority").value};this.updateTodo(t.target.dataset.projectID,t.target.dataset.todoID,e),this.uiState.todoState[t.target.dataset.todoID]="expanded",this.draw(),this.save()}if(t.target.classList.contains("cancel-todo-edit")&&(null===this.system.getProjectByID(t.target.dataset.projectID).getTodoByID(t.target.dataset.todoID).title?this.removeTodo(t.target.dataset.projectID,t.target.dataset.todoID):this.uiState.todoState[t.target.dataset.todoID]="expanded",this.draw(),this.save()),t.target.classList.contains("new-project-button")&&(this.addProject(document.querySelector(".input-project-name").value),this.draw(),this.save()),t.target.classList.contains("delete-project")&&(this.removeProject(t.target.dataset.projectID),this.draw(),this.save()),t.target.classList.contains("add-todo")){let e=this.system.addTodo(t.target.dataset.projectID,{});this.uiState.todoState[e]="editing",this.draw()}}}(document.querySelector("div#projects"))})();